import 'package:carousel_slider/carousel_slider.dart';
import 'package:flutter/material.dart';
import 'package:flutter_svg/svg.dart';
import 'package:google_fonts/google_fonts.dart';
import 'package:sandu_app/core/constants/app_colors.dart';
import 'package:sandu_app/core/constants/app_sizes.dart';
import 'package:sandu_app/presentation/screens/home/agriculture/agriculture_screen.dart';
import 'package:sandu_app/presentation/screens/home/disaster/disaster_screen.dart';
import 'package:sandu_app/presentation/screens/home/education/education_screen.dart';
import 'package:sandu_app/presentation/screens/home/environment/environment_screen.dart';
import 'package:sandu_app/presentation/screens/home/government/government_screen.dart';
import 'package:sandu_app/presentation/screens/home/health/health_screen.dart';
import 'package:sandu_app/presentation/screens/home/posyandu/posyandu_screen.dart';
import 'package:sandu_app/presentation/screens/home/social/social_screen.dart';
import 'package:sandu_app/presentation/screens/home/umkm/umkm_screen.dart';
import 'package:sandu_app/presentation/widgets/button_width_svg.dart';
import 'package:sandu_app/presentation/widgets/button_width_icon.dart';
import 'package:sandu_app/presentation/widgets/card_text_button.dart';
import 'package:sandu_app/presentation/widgets/container_info_button.dart';
import 'package:sandu_app/presentation/widgets/container_news_button.dart';
import 'package:sandu_app/presentation/widgets/custom_text_field.dart';
import 'package:sandu_app/presentation/widgets/header.dart';

class HomeScreen extends StatefulWidget {
  const HomeScreen({super.key});

  @override
  State<HomeScreen> createState() => _HomeScreenState();
}

class _HomeScreenState extends State<HomeScreen> {
  // State variable
  final ValueNotifier<int> _currentCarouselIndex = ValueNotifier(0);

  final _searchController = TextEditingController();

  // ðŸ”¹ Data untuk Grid Sektor
  final List<Map<String, dynamic>> sectorList = [
    {
      'name': 'Pemerintahan',
      'icon':
          ''' <svg width="40" height="30" viewBox="0 0 40 30" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M9.44417 13.3333H11.6667V26.6667H15V15H18.3333V26.6667H21.6667V15H25V26.6667H28.3333V13.3333H30.555C31.1683 13.3333 31.6667 12.72 31.6667 12.1675C31.6667 11.8333 31.4825 11.4567 31.2042 11.275L31.2058 11.2317L31.1883 11.2008L31.3 11.1733L20.8333 5.7825V4.20583C22.5 5.08833 24.1258 3.56833 26.6667 4.4825V1C24.1242 0.0866665 22.5 1.60583 20.8333 0.723333V0.5C20.8333 0.224167 20.3075 0 20 0C19.6925 0 19.1667 0.224167 19.1667 0.5V5.7825L8.70083 11.1625L8.92667 11.18L9.16667 11.1892V11.1908C8.33333 11.3725 8.52 11.8325 8.52 12.1667C8.51917 12.72 8.83083 13.3333 9.44417 13.3333ZM10.8333 27.5L8.33333 30H31.6667L29.1667 27.5H10.8333ZM29.1667 14.1667V26.6667H29.9042L30.23 27.1275L32.4517 29.21L33.2375 30H40V14.1667H29.1667ZM34.1667 24.1667H31.6667V21.6667H34.1667V24.1667ZM34.1667 19.1667H31.6667V16.6667H34.1667V19.1667ZM37.5 24.1667H35.8333V21.6667H37.5V24.1667ZM37.5 19.1667H35.8333V16.6667H37.5V19.1667ZM10.095 26.6667H10.8333V14.1667H0V30H6.76167L7.54667 29.2933L9.76917 27.1267L10.095 26.6667ZM4.16667 24.1667H2.5V21.6667H4.16667V24.1667ZM4.16667 19.1667H2.5V16.6667H4.16667V19.1667ZM8.33333 24.1667H5.83333V21.6667H8.33333V24.1667ZM8.33333 19.1667H5.83333V16.6667H8.33333V19.1667Z" fill="#194D4D"/>
</svg> ''',
      'onPressed': (BuildContext context) {
        NavigationHelper.navigateWithSlideTransition(
          context,
          GovernmentScreen(),
        );
      },
    },
    {
      'name': 'Pertanian',
      'icon':
          ''' <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_515_115)">
<path d="M15 5.625C15.8629 5.625 16.5625 4.92544 16.5625 4.0625C16.5625 3.19956 15.8629 2.5 15 2.5C14.1371 2.5 13.4375 3.19956 13.4375 4.0625C13.4375 4.92544 14.1371 5.625 15 5.625Z" fill="#194D4D"/>
<path d="M15.3125 0.625H14.6875V1.5625H15.3125V0.625Z" fill="#194D4D"/>
<path d="M15.3125 6.5625H14.6875V7.5H15.3125V6.5625Z" fill="#194D4D"/>
<path d="M18.4375 3.75H17.5V4.375H18.4375V3.75Z" fill="#194D4D"/>
<path d="M12.5 3.75H11.5625V4.375H12.5V3.75Z" fill="#194D4D"/>
<path d="M17.2098 1.41101L16.5469 2.07391L16.9888 2.51585L17.6517 1.85294L17.2098 1.41101Z" fill="#194D4D"/>
<path d="M13.0111 5.60949L12.3481 6.2724L12.7901 6.71434L13.453 6.05143L13.0111 5.60949Z" fill="#194D4D"/>
<path d="M16.9888 5.60939L16.5469 6.05133L17.2098 6.71424L17.6517 6.2723L16.9888 5.60939Z" fill="#194D4D"/>
<path d="M12.7903 1.41115L12.3483 1.85303L13.0111 2.51603L13.4531 2.07415L12.7903 1.41115Z" fill="#194D4D"/>
<path d="M3.4375 6.5625H6.875C7.56531 6.5625 8.125 6.00281 8.125 5.3125C8.125 4.62219 7.56531 4.0625 6.875 4.0625C6.76469 4.0625 6.65969 4.08125 6.55781 4.10812C6.55844 4.0925 6.5625 4.07812 6.5625 4.0625C6.5625 3.19969 5.86281 2.5 5 2.5C4.13719 2.5 3.4375 3.19969 3.4375 4.0625C2.74719 4.0625 2.1875 4.62219 2.1875 5.3125C2.1875 6.00281 2.74719 6.5625 3.4375 6.5625Z" fill="#194D4D"/>
<path d="M23.75 7.8125H27.1875C27.8778 7.8125 28.4375 7.25281 28.4375 6.5625C28.4375 5.87219 27.8778 5.3125 27.1875 5.3125C27.1875 4.44969 26.4878 3.75 25.625 3.75C24.7622 3.75 24.0625 4.44969 24.0625 5.3125C24.0625 5.32812 24.0666 5.3425 24.0672 5.35812C23.9653 5.33125 23.8603 5.3125 23.75 5.3125C23.0597 5.3125 22.5 5.87219 22.5 6.5625C22.5 7.25281 23.0597 7.8125 23.75 7.8125Z" fill="#194D4D"/>
<path d="M14.6875 15V10.3125H9.15467L7.33154 15H14.6875Z" fill="#194D4D"/>
<path d="M15.3125 15H22.6684L20.8453 10.3125H15.3125V15Z" fill="#194D4D"/>
<path d="M8.48434 10.3125H5.62497L1.23059 15H6.66122L8.48434 10.3125Z" fill="#194D4D"/>
<path d="M4.0625 27.4719C3.17594 27.3228 2.5 26.5537 2.5 25.625C3.1525 25.625 3.72656 25.9587 4.0625 26.4644V24.9719C3.17594 24.8228 2.5 24.0537 2.5 23.125C3.1525 23.125 3.72656 23.4587 4.0625 23.9644V23.0675C3.69906 22.9384 3.4375 22.595 3.4375 22.1875C3.4375 21.6697 3.85719 21.25 4.375 21.25C4.89281 21.25 5.3125 21.6697 5.3125 22.1875C5.3125 22.595 5.05094 22.9384 4.6875 23.0675V23.9644C5.02344 23.4587 5.5975 23.125 6.25 23.125C6.25 24.0537 5.57406 24.8228 4.6875 24.9719V26.4644C5.02344 25.9587 5.5975 25.625 6.25 25.625C6.25 26.5537 5.57406 27.3228 4.6875 27.4719V29.375H9.375V27.4719C8.48844 27.3228 7.8125 26.5537 7.8125 25.625C8.465 25.625 9.03906 25.9587 9.375 26.4644V24.9719C8.48844 24.8228 7.8125 24.0537 7.8125 23.125C8.465 23.125 9.03906 23.4587 9.375 23.9644V23.0675C9.01156 22.9384 8.75 22.595 8.75 22.1875C8.75 21.6697 9.16969 21.25 9.6875 21.25C10.2053 21.25 10.625 21.6697 10.625 22.1875C10.625 22.595 10.3634 22.9384 10 23.0675V23.9644C10.3359 23.4587 10.91 23.125 11.5625 23.125C11.5625 24.0537 10.8866 24.8228 10 24.9719V26.4644C10.3359 25.9587 10.91 25.625 11.5625 25.625C11.5625 26.5537 10.8866 27.3228 10 27.4719V29.375H13.125V24.0625H16.875V29.375H20V27.4719C19.1134 27.3228 18.4375 26.5537 18.4375 25.625C19.09 25.625 19.6641 25.9587 20 26.4644V24.9719C19.1134 24.8228 18.4375 24.0537 18.4375 23.125C19.09 23.125 19.6641 23.4587 20 23.9644V23.0675C19.6366 22.9384 19.375 22.595 19.375 22.1875C19.375 21.6697 19.7947 21.25 20.3125 21.25C20.8303 21.25 21.25 21.6697 21.25 22.1875C21.25 22.595 20.9884 22.9384 20.625 23.0675V23.9644C20.9609 23.4587 21.535 23.125 22.1875 23.125C22.1875 24.0537 21.5116 24.8228 20.625 24.9719V26.4644C20.9609 25.9587 21.535 25.625 22.1875 25.625C22.1875 26.5537 21.5116 27.3228 20.625 27.4719V29.375H25.3125V27.4719C24.4259 27.3228 23.75 26.5537 23.75 25.625C24.4025 25.625 24.9766 25.9587 25.3125 26.4644V24.9719C24.4259 24.8228 23.75 24.0537 23.75 23.125C24.4025 23.125 24.9766 23.4587 25.3125 23.9644V23.0675C24.9491 22.9384 24.6875 22.595 24.6875 22.1875C24.6875 21.6697 25.1072 21.25 25.625 21.25C26.1428 21.25 26.5625 21.6697 26.5625 22.1875C26.5625 22.595 26.3009 22.9384 25.9375 23.0675V23.9644C26.2734 23.4587 26.8475 23.125 27.5 23.125C27.5 24.0537 26.8241 24.8228 25.9375 24.9719V26.4644C26.2734 25.9587 26.8475 25.625 27.5 25.625C27.5 26.5537 26.8241 27.3228 25.9375 27.4719V29.375H29.0625V15.625H24.0625V16.25H24.375V16.875H23.125V16.25H23.4375V15.625H16.2059C16.0666 16.1631 15.5819 16.5625 15 16.5625C14.4181 16.5625 13.9337 16.1631 13.7941 15.625H6.5625V16.25H6.875V16.875H5.625V16.25H5.9375V15.625H0.9375V29.375H4.0625V27.4719ZM24.6875 17.8125H25.3125V18.4375H24.6875V17.8125ZM24.6875 19.0625H25.3125V19.6875H24.6875V19.0625ZM23.4375 17.5H24.0625V18.125H23.4375V17.5ZM23.4375 18.75H24.0625V19.375H23.4375V18.75ZM22.1875 17.8125H22.8125V18.4375H22.1875V17.8125ZM22.1875 19.0625H22.8125V19.6875H22.1875V19.0625ZM17.1875 15.9375H18.125V16.5625H17.1875V15.9375ZM16.7456 16.9666L17.4084 17.6294L16.9666 18.0712L16.3038 17.4084L16.7456 16.9666ZM14.6875 17.5H15.3125V18.4375H14.6875V17.5ZM13.6584 17.4084L12.9956 18.0712L12.5538 17.6294L13.2166 16.9666L13.6584 17.4084ZM11.875 15.9375H12.8125V16.5625H11.875V15.9375ZM7.1875 17.8125H7.8125V18.4375H7.1875V17.8125ZM7.1875 19.0625H7.8125V19.6875H7.1875V19.0625ZM5.9375 17.5H6.5625V18.125H5.9375V17.5ZM5.9375 18.75H6.5625V19.375H5.9375V18.75ZM4.6875 17.8125H5.3125V18.4375H4.6875V17.8125ZM4.6875 19.0625H5.3125V19.6875H4.6875V19.0625Z" fill="#194D4D"/>
<path d="M28.7694 15L24.375 10.3125H21.5156L23.3387 15H28.7694Z" fill="#194D4D"/>
<path d="M14.6875 25.9375H14.0625V26.5625H14.6875V25.9375Z" fill="#194D4D"/>
</g>
<defs>
<clipPath id="clip0_515_115">
<rect width="30" height="30" fill="white"/>
</clipPath>
</defs>
</svg>
 ''',
      'onPressed': (BuildContext context) {
        Navigator.push(
          context,
          MaterialPageRoute(builder: (context) => AgricultureScreen()),
        );
      },
    },
    {
      'name': 'Kesehatan',
      'icon':
          ''' <svg width="29" height="30" viewBox="0 0 29 30" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M26.8519 27.919H24.7037V30H20.4074V27.919H8.59259V30H4.2963V27.919H2.14815C0.961296 27.919 0 26.9568 0 25.7714V7.51664C0 6.33009 0.961296 5.36903 2.14815 5.36903H26.8519C28.0376 5.36903 29 6.33116 29 7.51664V25.7714C29 26.9579 28.0376 27.919 26.8519 27.919ZM20.4063 15.0333H16.1111V10.7381H12.8889V15.0333H8.59259V18.2547H12.8889V22.5499H16.1111V18.2547H20.4063V15.0333ZM18.2593 2.12506H11.8148V4.29523H9.66667V3.24397H10.7407V0H19.2882V3.22142H20.4074V4.29523H18.2593V2.12506Z" fill="#194D4D"/>
</svg>
 ''',
      'onPressed': (BuildContext context) {
        Navigator.push(
          context,
          MaterialPageRoute(builder: (context) => HealthScreen()),
        );
      },
    },
    {
      'name': 'Pendidikan',
      'icon':
          ''' <svg width="32" height="30" viewBox="0 0 32 30" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M30.6642 28.9501C30.9223 28.9501 31.1665 28.8344 31.3291 28.6347C31.4917 28.4351 31.5551 28.1732 31.5017 27.9219L30.9627 25.3825C31.2697 25.0869 31.4626 24.6741 31.4626 24.2152C31.4626 23.7321 31.2465 23.3035 30.911 23.0058V14.1875L28.7501 15.5186V23.0058C28.4146 23.3035 28.1984 23.7321 28.1984 24.2152C28.1984 24.6742 28.3914 25.0869 28.6984 25.3825L28.1593 27.9219C28.1059 28.1732 28.1694 28.4351 28.3319 28.6347C28.4944 28.8343 28.7387 28.9501 28.9968 28.9501H30.6642ZM31.3966 9.04165L17.3389 0.379171C16.9272 0.126727 16.4631 0 15.999 0C15.5349 0 15.0705 0.12662 14.6613 0.379171L0.603359 9.04165C0.227984 9.27286 0 9.68123 0 10.1207C0 10.5603 0.227984 10.9688 0.603359 11.2004L14.6612 19.863C15.0704 20.1157 15.5348 20.2421 15.9989 20.2421C16.4631 20.2421 16.9272 20.1155 17.3389 19.863L31.3966 11.2004C31.772 10.9689 32 10.5603 32 10.1207C32 9.68123 31.772 9.27273 31.3966 9.04165ZM15.999 22.393C15.1233 22.393 14.2686 22.1509 13.5236 21.692L5.32363 16.6386V25.34C5.32363 27.9153 10.1054 30 15.9989 30C21.8946 30 26.676 27.9153 26.676 25.34V16.6386L18.4763 21.692C17.7313 22.1509 16.8746 22.393 15.999 22.393Z" fill="#194D4D"/>
</svg>
 ''',
      'onPressed': (BuildContext context) {
        Navigator.push(
          context,
          MaterialPageRoute(builder: (context) => EducationScreen()),
        );
      },
    },
    {
      'name': 'Lingkungan',
      'icon':
          ''' <svg width="31" height="30" viewBox="0 0 31 30" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M29.7912 24.9221C30.0179 25.9414 29.3883 26.8843 28.4565 27.0881L16.671 29.8148C15.2608 30.197 13.6239 29.9931 12.2892 29.1522L6.84972 25.6866C6.16978 25.2534 5.36393 25.1005 4.63363 25.2788L0.0251828 28.5151L0 21.2781L6.47197 17.5576C7.88221 16.8441 9.36799 17.4811 10.6523 18.2966L18.459 23.2912C19.2648 23.8263 19.5167 24.9476 18.9878 25.763C18.459 26.5785 17.3761 26.8078 16.5451 26.2982L10.2746 22.2719C10.0227 22.0935 9.67019 22.17 9.49391 22.4503C9.31763 22.7306 9.36799 23.0873 9.67019 23.2657L15.9155 27.292C16.5703 27.7507 17.3761 27.8781 18.1316 27.6997C18.8871 27.4958 19.5418 27.0117 19.9699 26.3491C20.1966 26.0433 20.3477 25.6611 20.3981 25.3043L27.6507 23.6225C28.6076 23.4186 29.5394 24.0047 29.7912 24.9221ZM14.9586 11.7985V16.2325C13.9009 16.6657 13.2713 17.2008 13.2713 17.7869C13.2713 19.1885 16.8473 18.8317 21.1535 18.8317C25.4598 18.8317 28.8595 19.163 28.8595 17.7869C28.8595 17.2263 28.3054 16.7167 27.3737 16.3089V11.7985H31L28.7335 9.07184H30.2445L27.9529 6.31971H29.4639L26.7189 3.03244L24.7799 5.35137L26.4671 7.44095H24.7799L27.3233 10.4734H22.5638V11.7985H26.0138V15.8248C24.8806 15.519 23.4703 15.3151 21.9342 15.2641V9.86181H26.0138L23.4703 6.82936H25.1576L22.5638 3.64403H24.251L21.1787 0L18.1064 3.64403H19.7937L17.1747 6.75292H18.9374L16.3436 9.86181H20.4232V15.2896C18.9123 15.3406 17.502 15.519 16.3436 15.7993V11.7985H19.7937V10.4734H15.0341L17.6531 7.3645H15.8903L17.6028 5.35137L15.6637 3.03244L12.9691 6.29423H14.4297L12.1381 9.09733H13.6742L11.3574 11.7985H14.9586Z" fill="#194D4D"/>
</svg>
 ''',
      'onPressed': (BuildContext context) {
        Navigator.push(
          context,
          MaterialPageRoute(builder: (context) => EnvironmentScreen()),
        );
      },
    },
    {
      'name': 'UMKM',
      'icon':
          ''' <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M0 9.39L3.75 0H26.25L30 9.39C30 10.43 29.63 11.31 28.89 12.03C28.15 12.75 27.27 13.12 26.25 13.14C25.23 13.16 24.35 12.79 23.61 12.03C22.87 11.27 22.5 10.39 22.5 9.39C22.5 10.43 22.13 11.31 21.39 12.03C20.65 12.75 19.77 13.12 18.75 13.14C17.73 13.16 16.85 12.79 16.11 12.03C15.37 11.27 15 10.39 15 9.39C15 10.43 14.63 11.31 13.89 12.03C13.15 12.75 12.27 13.12 11.25 13.14C10.23 13.16 9.35 12.79 8.61 12.03C7.87 11.27 7.5 10.39 7.5 9.39C7.5 10.43 7.13 11.31 6.39 12.03C5.65 12.75 4.77 13.12 3.75 13.14C2.73 13.16 1.85 12.79 1.11 12.03C0.37 11.27 0 10.39 0 9.39ZM1.89 28.14H28.14V30H1.89V28.14ZM3.75 26.25V15C5.17 15 6.42 14.52 7.5 13.56V22.5H22.5V13.56C23.58 14.52 24.83 15 26.25 15V26.25H3.75Z" fill="#194D4D"/>
</svg>
 ''',
      'onPressed': (BuildContext context) {
        Navigator.push(
          context,
          MaterialPageRoute(builder: (context) => UmkmScreen()),
        );
      },
    },
    {
      'name': 'Kebencanaan',
      'icon':
          ''' <svg width="31" height="30" viewBox="0 0 31 30" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M20.0173 11.3459L23.1664 12.5241L23.9836 10.2725L20.8345 9.09434L20.0173 11.3459ZM12.1631 12.8931L15.3122 14.0713L16.1294 11.8197L12.9803 10.6415L12.1631 12.8931ZM10.8713 0L4.94861 16.3354C5.8401 15.6101 6.87192 15.0524 8.0647 15.0231L12.3406 3.22851L27.6445 8.95597L25.4406 15.0398C26.2866 15.0608 27.0915 15.3753 27.756 15.9287L30.8267 7.46331L10.8713 0ZM18.6182 15.3082L21.7673 16.4864L22.5845 14.2348L19.4354 13.0566L18.6182 15.3082ZM13.5622 8.93082L16.7114 10.109L17.5286 7.85744L14.3794 6.67925L13.5622 8.93082ZM2.41033 22.9182C3.56184 23.0231 4.75875 22.4948 5.71628 21.4717C5.82359 21.3543 5.93916 21.2243 6.06297 21.0901C6.35601 20.7631 6.97098 20.0797 7.49101 19.6352C7.54467 20.5576 7.89549 21.3669 8.17201 21.7904C8.72094 22.6331 9.55465 23.1405 10.5081 23.2243C11.7132 23.3333 13.0752 22.7338 14.074 21.6646C14.1772 21.5514 14.2928 21.4256 14.4125 21.2914C14.7468 20.9224 15.4525 20.1384 16.0386 19.6478C16.0964 20.566 16.4431 21.3669 16.7196 21.7862C17.2685 22.6289 18.1022 23.1363 19.0598 23.2201C20.2691 23.3249 21.6352 22.7296 22.634 21.6604C22.7372 21.5514 22.8445 21.4298 22.9601 21.304C23.2655 20.9644 24.0001 20.1509 24.6068 19.6478C24.6646 20.566 25.0113 21.3669 25.2878 21.7862C25.8739 22.6834 26.7365 23.2243 27.7147 23.3082C27.8096 23.3166 27.9045 23.3208 27.9953 23.3208C29.0519 23.3208 30.1333 22.805 31 21.8784L29.2046 20.1467C28.8043 20.5786 28.309 20.8344 27.9293 20.8008C27.789 20.7883 27.5785 20.7338 27.3556 20.3899C27.2029 20.1593 26.9388 19.4004 27.1864 18.9015L27.562 18.1509L27.0213 17.5136C26.5797 16.9937 26.006 16.717 25.358 16.7086H25.3209C23.8722 16.7086 22.568 18.021 21.1441 19.6059C21.0367 19.7275 20.9336 19.8407 20.8428 19.9371C20.3764 20.4361 19.7449 20.7505 19.2827 20.7128C19.1341 20.7002 18.9607 20.6499 18.7915 20.3899C18.6388 20.1551 18.3747 19.4004 18.6223 18.9015L18.9855 18.1593L18.4407 17.522C17.9991 17.0021 17.4254 16.7254 16.7774 16.717H16.7444C15.1801 16.717 13.7438 18.3145 12.5841 19.6017C12.4726 19.7275 12.3653 19.8449 12.2704 19.9455C11.8081 20.4444 11.1725 20.7547 10.7185 20.7212C10.5741 20.7086 10.4007 20.6583 10.2315 20.3983C10.0788 20.1677 9.81467 19.4088 10.0623 18.9099L10.4379 18.1593L9.89722 17.522C9.44322 16.9895 8.86127 16.7044 8.20503 16.696H8.17201C6.66143 16.696 5.31594 18.1929 4.23459 19.4004C4.11903 19.5262 4.01172 19.6478 3.91679 19.7526C3.50819 20.1887 3.00053 20.4528 2.62908 20.4151C2.48875 20.4025 2.28239 20.348 2.06364 20.0126L0 21.4046C0.581946 22.2977 1.44042 22.8344 2.41033 22.9182ZM27.921 27.4885C27.7807 27.4759 27.5702 27.4214 27.3474 27.0776C27.1946 26.847 26.9305 26.088 27.1781 25.5891L27.5537 24.8386L27.013 24.2013C26.5714 23.6813 25.9977 23.4046 25.3498 23.3962H25.3126C23.8639 23.3962 22.5597 24.7086 21.1317 26.2935C21.0244 26.4151 20.9212 26.5283 20.8304 26.6247C20.364 27.1237 19.7243 27.4382 19.2703 27.4004C19.1217 27.3878 18.9483 27.3375 18.7791 27.0776C18.6264 26.8428 18.3623 26.088 18.6099 25.5891L18.9855 24.8386L18.4407 24.2013C17.9991 23.6813 17.4254 23.4046 16.7774 23.3962H16.7444C15.2998 23.3962 14.0039 24.7044 12.5841 26.2809C12.4726 26.4067 12.3653 26.5241 12.2745 26.6247C11.8123 27.1195 11.1767 27.4382 10.7227 27.4004C10.5782 27.3878 10.4049 27.3375 10.2357 27.0776C10.0829 26.847 9.8188 26.088 10.0664 25.5891L10.442 24.8386L9.90134 24.2013C9.44734 23.6688 8.8654 23.3836 8.20916 23.3753H8.17614C6.66556 23.3753 5.32006 24.8721 4.23872 26.0797C4.12315 26.2055 4.01584 26.327 3.92092 26.4319C3.51232 26.8679 3.00466 27.1237 2.6332 27.0943C2.48875 27.0818 2.28239 27.0273 2.06364 26.6918L0 28.0839C0.581946 28.9769 1.44042 29.5136 2.41033 29.5975C3.55359 29.6939 4.75875 29.174 5.71628 28.1509C5.82359 28.0335 5.93916 27.9036 6.06297 27.7694C6.35601 27.4423 6.97098 26.7589 7.49101 26.3145C7.54467 27.2369 7.89549 28.0461 8.17201 28.4696C8.72094 29.3124 9.55465 29.8197 10.5081 29.9036C11.7091 30.0084 13.0752 29.413 14.074 28.3438C14.1772 28.2306 14.2928 28.1048 14.4083 27.9748C14.7426 27.6059 15.4484 26.8218 16.0345 26.3312C16.0923 27.2495 16.439 28.0503 16.7155 28.4696C17.2644 29.3124 18.0981 29.8197 19.0557 29.9036C20.2567 30.0084 21.6311 29.413 22.6299 28.3438C22.7289 28.2348 22.8404 28.1132 22.9559 27.9874C23.2614 27.6478 23.996 26.8302 24.6027 26.327C24.6605 27.2453 25.0072 28.0461 25.2837 28.4654C25.8698 29.3627 26.7324 29.9036 27.7106 29.9874C27.8055 29.9958 27.9004 30 27.9912 30C29.0478 30 30.1291 29.4843 30.9959 28.5577L29.1964 26.8344C28.796 27.2662 28.3049 27.5178 27.921 27.4885Z" fill="#194D4D"/>
</svg>
 ''',
      'onPressed': (BuildContext context) {
        Navigator.push(
          context,
          MaterialPageRoute(builder: (context) => DisasterScreen()),
        );
      },
    },
    {
      'name': 'Sosial',
      'icon':
          ''' <svg width="37" height="30" viewBox="0 0 37 30" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M7.40052 5.625C8.93248 5.625 10.1754 4.36523 10.1754 2.8125C10.1754 1.25977 8.93248 0 7.40052 0C5.86856 0 4.62565 1.25977 4.62565 2.8125C4.62565 4.36523 5.86856 5.625 7.40052 5.625ZM29.5995 5.625C31.1314 5.625 32.3743 4.36523 32.3743 2.8125C32.3743 1.25977 31.1314 0 29.5995 0C28.0675 0 26.8246 1.25977 26.8246 2.8125C26.8246 4.36523 28.0675 5.625 29.5995 5.625ZM36.8662 27.4277L34.3225 20.9824L31.9466 23.7012L31.8309 24.7676L33.4323 28.8223C33.7213 29.5547 34.415 30 35.1492 30C35.3805 30 35.6117 29.959 35.8372 29.8652C36.7852 29.4785 37.2477 28.3887 36.8662 27.4277ZM34.8891 15.1348L33.8196 10.4355C33.5537 9.26367 32.7443 8.2793 31.6517 7.80469C30.5822 7.33594 29.3971 7.41211 28.4086 7.99805C27.0963 8.7832 26.1135 10.0195 25.6279 11.4785L24.9747 13.4648L24.0497 14.0625V8.4375C24.0497 7.92188 23.6335 7.5 23.1248 7.5H13.8752C13.3665 7.5 12.9503 7.92188 12.9503 8.4375V14.0625L12.0195 13.4648L11.3663 11.4785C10.8865 10.0137 9.8979 8.7832 8.58562 7.99805C7.59129 7.41211 6.41197 7.33594 5.34249 7.80469C4.24989 8.2793 3.44055 9.26367 3.17462 10.4355L2.11092 15.1348C1.845 16.3066 2.15139 17.5488 2.94338 18.457L6.8282 22.9043L7.41208 28.3301C7.51614 29.2852 8.31391 30 9.25043 30C9.31981 30 9.3834 29.9941 9.45277 29.9883C10.4702 29.877 11.1986 28.9512 11.0888 27.9199L10.5049 22.4824C10.4182 21.7207 10.106 21.0117 9.60307 20.4316L7.09991 17.5605L8.11736 13.4414L8.51047 14.6367C8.74749 15.3691 9.1984 16.0078 9.92681 16.5469L12.8809 18.4512C13.1468 18.6211 13.5804 18.7207 13.8752 18.7441H23.1248C23.4196 18.7207 23.8532 18.6211 24.1191 18.4512L27.0732 16.5469C27.8016 16.0078 28.2525 15.375 28.4895 14.6367L28.8826 13.4414L29.9001 17.5605L27.3969 20.4316C26.894 21.0117 26.5818 21.7207 26.4951 22.4824L25.9112 27.9199C25.8014 28.9512 26.5356 29.877 27.5472 29.9883C27.6166 29.9941 27.6802 30 27.7496 30C28.6803 30 29.4839 29.291 29.5879 28.3301L30.1718 22.9043L34.0566 18.457C34.8428 17.5488 35.155 16.3066 34.8891 15.1348ZM2.67746 20.9824L0.133828 27.4277C-0.247716 28.3887 0.214762 29.4785 1.16284 29.8652C2.13405 30.252 3.19197 29.7656 3.56773 28.8223L5.16906 24.7676L5.05344 23.7012L2.67746 20.9824Z" fill="#194D4D"/>
</svg>
 ''',
      'onPressed': (BuildContext context) {
        Navigator.push(
          context,
          MaterialPageRoute(builder: (context) => SocialScreen()),
        );
      },
    },
  ];

  // ðŸ”¹ Data untuk Grid Aksi Cepat
  final List<Map<String, dynamic>> quickActionList = [
    {
      'name': 'Posyandu',
      'icon':
          ''' <svg width="31" height="33" viewBox="0 0 31 33" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M26.9945 18.4018V23.487C26.9945 26.01 25.978 28.4297 24.1687 30.2137C22.3593 31.9977 19.9053 33 17.3464 33C14.7876 33 12.3336 31.9977 10.5242 30.2137C8.71482 28.4297 7.69832 26.01 7.69832 23.487V22.3686C5.55451 22.0391 3.60065 20.9652 2.18909 19.3405C0.777522 17.7158 0.00115787 15.6473 0 13.508V6.32266C0.000312315 5.62769 0.176339 4.94376 0.512156 4.33274C0.847974 3.72172 1.33299 3.20289 1.92332 2.82318C1.96528 2.15657 2.23164 1.52283 2.68022 1.02238C3.12879 0.521929 3.73391 0.183383 4.3997 0.060387C5.06549 -0.0626089 5.75387 0.03698 6.35576 0.343373C6.95765 0.649766 7.43863 1.14544 7.72249 1.75185C8.00635 2.35827 8.07686 3.04074 7.92283 3.69113C7.7688 4.34152 7.39906 4.92264 6.87218 5.34239C6.3453 5.76215 5.69143 5.99654 5.01416 6.00843C4.33689 6.02032 3.67497 5.80902 3.13327 5.40802C2.91393 5.66376 2.79339 5.98774 2.79297 6.32266V13.5055C2.79297 15.1535 3.45691 16.7339 4.63874 17.8992C5.82056 19.0645 7.42346 19.7191 9.09481 19.7191C10.7662 19.7191 12.3691 19.0645 13.5509 17.8992C14.7327 16.7339 15.3966 15.1535 15.3966 13.5055V6.32266C15.3967 6.0246 15.3015 5.73411 15.1244 5.49253C14.5624 5.86579 13.8902 6.04357 13.2142 5.99772C12.5382 5.95187 11.897 5.68501 11.3922 5.23938C10.8873 4.79376 10.5476 4.19483 10.4269 3.53741C10.3061 2.87999 10.4112 2.20165 10.7255 1.60975C11.0398 1.01786 11.5454 0.546246 12.1621 0.269562C12.7789 -0.00712192 13.4717 -0.0730646 14.1307 0.0821735C14.7898 0.237412 15.3775 0.604961 15.8008 1.12664C16.2242 1.64831 16.4589 2.29431 16.468 2.96236C17.0016 3.35056 17.4354 3.85684 17.7344 4.44047C18.0334 5.0241 18.1893 5.66878 18.1896 6.32266V13.5055C18.1885 15.6449 17.4121 17.7134 16.0005 19.338C14.589 20.9627 12.6351 22.0366 10.4913 22.3661V23.4845C10.4913 25.2768 11.2134 26.9957 12.4987 28.2631C13.7841 29.5304 15.5274 30.2424 17.3452 30.2424C19.1629 30.2424 20.9062 29.5304 22.1916 28.2631C23.4769 26.9957 24.199 25.2768 24.199 23.4845V18.4018C22.9322 18.0677 21.8318 17.2909 21.1029 16.216C20.374 15.1411 20.0663 13.8416 20.2372 12.5597C20.408 11.2777 21.0458 10.1007 22.0317 9.24806C23.0175 8.39542 24.2842 7.92529 25.5955 7.92529C26.9069 7.92529 28.1735 8.39542 29.1594 9.24806C30.1452 10.1007 30.783 11.2777 30.9539 12.5597C31.1248 13.8416 30.8171 15.1411 30.0882 16.216C29.3593 17.2909 28.2589 18.0677 26.992 18.4018H26.9945ZM28.2045 13.257C28.2045 12.7482 28.0515 12.2509 27.7648 11.8278C27.4781 11.4048 27.0707 11.0751 26.5939 10.8804C26.1172 10.6857 25.5926 10.6348 25.0866 10.734C24.5805 10.8333 24.1156 11.0783 23.7507 11.438C23.3859 11.7978 23.1374 12.2561 23.0367 12.7551C22.936 13.2541 22.9877 13.7714 23.1852 14.2414C23.3826 14.7115 23.717 15.1132 24.1461 15.3959C24.5751 15.6786 25.0795 15.8294 25.5955 15.8294C26.2875 15.8288 26.951 15.5576 27.4405 15.0754C27.93 14.5932 28.2057 13.9393 28.207 13.257H28.2045Z" fill="url(#paint0_linear_515_157)"/>
<defs>
<linearGradient id="paint0_linear_515_157" x1="15.5" y1="2.79961e-08" x2="16.5" y2="40.5" gradientUnits="userSpaceOnUse">
<stop stop-color="#E8AC00"/>
<stop offset="1" stop-color="#F9D75C"/>
</linearGradient>
</defs>
</svg>

 ''',
      'onPressed': (BuildContext context) {
        NavigationHelper.navigateWithSlideTransition(context, PosyanduScreen());
      },
    },
    {
      'name': 'Pasar Lokal',
      'icon':
          ''' <svg width="34" height="33" viewBox="0 0 34 33" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M23.881 17.7226L22.8275 22.0794C22.6352 22.8744 21.92 23.4296 21.0882 23.4296H14.6939L14.9456 24.4595C15.042 24.8547 15.3986 25.1308 15.8123 25.1308H22.1491V26.0088H15.8123C14.9836 26.0088 14.2697 25.456 14.0763 24.6644L12.1153 16.6378C12.0187 16.2426 11.6623 15.9666 11.2485 15.9666H9.57937V15.0886H11.2485C12.0772 15.0886 12.791 15.6413 12.9845 16.4329L13.2995 17.7226H23.881ZM14.867 27.8747C14.867 28.5718 15.4423 29.1367 16.1519 29.1367C16.8616 29.1367 17.4367 28.5716 17.4367 27.8747C17.4367 27.1777 16.8614 26.6126 16.1519 26.6126C15.4422 26.6124 14.867 27.1776 14.867 27.8747ZM19.5597 27.8747C19.5597 28.5718 20.135 29.1367 20.8446 29.1367C21.5542 29.1367 22.1294 28.5716 22.1294 27.8747C22.1294 27.1777 21.5541 26.6126 20.8446 26.6126C20.1349 26.6124 19.5597 27.1776 19.5597 27.8747ZM0 8.87952C0 10.6923 1.29861 12.2328 2.96825 12.7992V30.6145H0V33H34V30.6145H31.0317V12.7963C32.7709 12.2735 33.9594 10.7559 34 8.87952V7.81928H0V8.87952ZM8.53913 8.79284C8.53913 9.65124 9.45052 12.9636 12.8198 12.9636C15.746 12.9636 17.0295 10.364 17.0295 8.79284C17.0295 10.2576 18.0293 12.9605 21.2747 12.9605C24.2069 12.9605 25.5062 10.1775 25.5062 8.79284C25.5062 10.7046 26.8184 12.2938 28.6032 12.7892V30.6145H5.39683V12.8016C7.20503 12.3208 8.53913 10.721 8.53913 8.79284ZM29.7948 2.6506H29.8175V0H4.31746V2.6506L0 6.89157H34L29.7948 2.6506Z" fill="url(#paint0_linear_515_514)"/>
<defs>
<linearGradient id="paint0_linear_515_514" x1="17" y1="0" x2="17" y2="53" gradientUnits="userSpaceOnUse">
<stop stop-color="#E8AC00"/>
<stop offset="1" stop-color="#F9D75C"/>
</linearGradient>
</defs>
</svg>

 ''',
      'onPressed': (BuildContext context) {
        Navigator.push(
          context,
          MaterialPageRoute(builder: (context) => PosyanduScreen()),
        );
      },
    },
    {
      'name': 'Verifikasi',
      'icon':
          ''' <svg width="34" height="33" viewBox="0 0 34 33" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M33.0379 19.4694L30.7499 17.1817C30.3637 16.7949 29.8391 16.5773 29.2923 16.5773C28.7459 16.5773 28.2217 16.7945 27.8345 17.1817L24.6654 20.3512C24.3701 20.0127 24.0037 19.7586 23.6026 19.5936L19.9178 17.8974L18.1475 16.4045L15.1051 19.4301L12.0552 16.4045L10.2849 17.8974L6.59979 19.5936C6.05478 19.818 5.57097 20.2045 5.24676 20.7491L0 29.5192H17.2354L20.1121 32.396C20.4979 32.7825 21.0228 33 21.5693 33C22.1161 33 22.6407 32.7828 23.0279 32.396L25.9035 29.5192H30.2023L28.5935 26.8297L33.0379 22.3845C33.8431 21.5793 33.8431 20.2746 33.0379 19.4694ZM21.5471 30.766L14.6306 23.8495L16.9183 21.5621L21.5474 26.1916L29.2705 18.4678L31.5579 20.7556L21.5471 30.766Z" fill="url(#paint0_linear_515_197)"/>
<path d="M15.0815 16.7695V16.7709C15.0848 16.7709 15.0887 16.7702 15.0919 16.7702C15.0937 16.7702 15.0966 16.7709 15.0991 16.7709C15.0991 16.7709 15.1005 16.7709 15.1016 16.7709C15.1026 16.7709 15.1041 16.7709 15.1041 16.7709C15.1066 16.7709 15.1094 16.7702 15.1112 16.7702C15.1148 16.7702 15.1184 16.7709 15.1216 16.7709V16.7695C19.4176 16.8349 22.0288 13.075 22.0961 6.8764C22.139 2.57615 19.4723 0.117374 15.1288 0.00143139V0C15.122 0 15.1173 0.000715686 15.1105 0.000715686V0C15.1066 0 15.1037 -9.24829e-09 15.1012 0.000715686C15.0984 -9.24829e-09 15.0948 0 15.0919 0V0.000715686C15.0851 0.000715686 15.0801 0 15.0744 0V0.00143139C10.7308 0.117374 8.06342 2.57615 8.10672 6.8764C8.17435 13.0754 10.7856 16.8349 15.0815 16.7695Z" fill="url(#paint1_linear_515_197)"/>
<defs>
<linearGradient id="paint0_linear_515_197" x1="16.8209" y1="16.4045" x2="16.8662" y2="42.8067" gradientUnits="userSpaceOnUse">
<stop stop-color="#E8AC00"/>
<stop offset="1" stop-color="#F9D75C"/>
</linearGradient>
<linearGradient id="paint1_linear_515_197" x1="15.1014" y1="2.76538e-09" x2="15.2126" y2="26.6808" gradientUnits="userSpaceOnUse">
<stop stop-color="#E8AC00"/>
<stop offset="1" stop-color="#F9D75C"/>
</linearGradient>
</defs>
</svg>

 ''',
      'onPressed': (BuildContext context) {
        Navigator.push(
          context,
          MaterialPageRoute(builder: (context) => PosyanduScreen()),
        );
      },
    },
    {
      'name': 'Janji Temu',
      'icon':
          ''' <svg width="38" height="34" viewBox="0 0 38 34" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M24.6096 4.95081e-05H6.82098C5.9574 0.0300948 5.13643 0.382698 4.52005 0.988295C3.90366 1.59389 3.53662 2.40851 3.49134 3.27142H2.36758C1.77515 3.27142 1.20686 3.50619 0.787173 3.92432C0.367483 4.34245 0.130597 4.90986 0.128395 5.50229C0.147965 6.07489 0.392075 6.6168 0.807961 7.01088C1.22385 7.40496 1.7781 7.61955 2.35093 7.60828H3.46636V12.045H2.36758C1.79027 11.9965 1.21731 12.1792 0.774745 12.5531C0.332181 12.927 0.0562646 13.4613 0.00769538 14.0387C-0.0408738 14.616 0.141882 15.1889 0.515759 15.6315C0.889636 16.0741 1.42401 16.35 2.00132 16.3985C2.12284 16.4152 2.24606 16.4152 2.36758 16.3985H3.46636V20.8103H2.36758C1.77878 20.8081 1.21297 21.0387 0.79352 21.4519C0.374065 21.8652 0.134982 22.4274 0.128395 23.0162C0.128395 23.5968 0.359046 24.1537 0.769609 24.5642C1.18017 24.9748 1.73701 25.2054 2.31764 25.2054H3.46636C3.43571 25.6062 3.48444 26.0091 3.60976 26.391C3.73508 26.7728 3.93452 27.1263 4.19666 27.4309C4.4588 27.7356 4.77849 27.9855 5.1374 28.1665C5.49631 28.3474 5.88739 28.4557 6.28824 28.4852C6.46543 28.5018 6.64379 28.5018 6.82098 28.4852H19.998V27.4696C19.977 25.0482 20.7409 22.685 22.1755 20.7342C23.6102 18.7834 25.6382 17.3498 27.9559 16.6483V3.2298C27.9298 2.36127 27.5653 1.53732 26.9401 0.933883C26.3149 0.330441 25.4785 -0.00468585 24.6096 4.95081e-05ZM17.4342 21.3764C17.431 21.5247 17.3984 21.6709 17.3384 21.8065C17.2784 21.9422 17.1921 22.0646 17.0846 22.1668C16.977 22.2689 16.8503 22.3487 16.7117 22.4017C16.5731 22.4546 16.4254 22.4796 16.2772 22.4751H9.67615C9.52744 22.483 9.37864 22.4614 9.23827 22.4117C9.09791 22.3619 8.96874 22.285 8.85816 22.1852C8.74759 22.0855 8.65778 21.9649 8.59388 21.8304C8.52999 21.6959 8.49326 21.5501 8.4858 21.4013V20.2859C8.4988 19.9863 8.62925 19.7039 8.84892 19.4999C9.06858 19.2958 9.35979 19.1864 9.6595 19.1954H16.2439C16.3922 19.1865 16.5408 19.207 16.6811 19.2558C16.8214 19.3046 16.9507 19.3807 17.0614 19.4798C17.1721 19.5789 17.262 19.699 17.326 19.833C17.39 19.9671 17.4268 20.1125 17.4342 20.2609V21.368V21.3764ZM21.7128 14.767C21.7128 15.3747 21.0719 15.8492 20.1895 15.8492H9.95084C9.11843 15.8492 8.42753 15.3747 8.42753 14.767V13.7265C8.42753 13.1105 9.06849 12.636 9.95084 12.636H20.2478C21.0802 12.636 21.7794 13.1105 21.7794 13.7265L21.7128 14.767ZM24.3349 8.15768C24.3033 8.4753 24.1472 8.76748 23.9007 8.97028C23.6542 9.17308 23.3375 9.26999 23.0197 9.23981H9.80101C9.48325 9.26999 9.16647 9.17308 8.91999 8.97028C8.6735 8.76748 8.51739 8.4753 8.4858 8.15768V7.06722C8.49942 6.90924 8.54404 6.7555 8.6171 6.61478C8.69015 6.47405 8.79022 6.3491 8.91159 6.24706C9.03295 6.14502 9.17323 6.06789 9.32442 6.02009C9.4756 5.97228 9.63472 5.95473 9.79268 5.96844H23.1113C23.2692 5.95353 23.4286 5.96993 23.5803 6.01669C23.7319 6.06345 23.8728 6.13965 23.995 6.24093C24.1171 6.34222 24.2181 6.46659 24.2922 6.60695C24.3662 6.74731 24.4118 6.90088 24.4265 7.05889L24.3349 8.15768Z" fill="url(#paint0_linear_635_3575)"/>
<path d="M37.5867 20.2023C37.5914 19.9222 37.4874 19.6513 37.2964 19.4463C37.1055 19.2414 36.8425 19.1185 36.5629 19.1035H27.706C27.427 19.1031 27.1586 19.2104 26.9568 19.4032C26.7918 19.5709 26.684 19.7865 26.6488 20.0191V21.2844C26.6444 21.4232 26.6674 21.5616 26.7164 21.6916C26.7655 21.8215 26.8397 21.9406 26.9348 22.0418C27.0299 22.1431 27.144 22.2246 27.2706 22.2818C27.3972 22.3389 27.5339 22.3706 27.6727 22.3749H32.2593L24.1516 30.699C23.9561 30.906 23.8472 31.18 23.8472 31.4648C23.8472 31.7496 23.9561 32.0236 24.1516 32.2306L24.8925 32.9964C25.0006 33.1065 25.1304 33.1929 25.2737 33.2502C25.417 33.3075 25.5706 33.3345 25.7249 33.3294C25.9846 33.3275 26.233 33.2227 26.4158 33.038L34.5234 24.6723V29.2589C34.5189 29.4027 34.543 29.546 34.5945 29.6803C34.6459 29.8147 34.7237 29.9374 34.8231 30.0414C34.9193 30.1436 35.0354 30.2251 35.1642 30.2809C35.293 30.3367 35.4319 30.3657 35.5723 30.366H36.7044C36.8465 30.3717 36.9883 30.3471 37.1203 30.2941C37.2523 30.241 37.3715 30.1605 37.4702 30.058C37.6284 29.8986 37.7356 29.6958 37.7782 29.4753V29.3338L37.5867 20.2023Z" fill="url(#paint1_linear_635_3575)"/>
<defs>
<linearGradient id="paint0_linear_635_3575" x1="13.9779" y1="0" x2="13.9779" y2="28.4976" gradientUnits="userSpaceOnUse">
<stop stop-color="#E8AC00"/>
<stop offset="1" stop-color="#F9D75C"/>
</linearGradient>
<linearGradient id="paint1_linear_635_3575" x1="30.8127" y1="19.1035" x2="30.8127" y2="33.33" gradientUnits="userSpaceOnUse">
<stop stop-color="#E8AC00"/>
<stop offset="1" stop-color="#F9D75C"/>
</linearGradient>
</defs>
</svg>

 ''',
      'onPressed': (BuildContext context) {
        Navigator.push(
          context,
          MaterialPageRoute(builder: (context) => PosyanduScreen()),
        );
      },
    },
  ];

  // ðŸ”¹ Data untuk Grid Peringatan
  final List<Map<String, dynamic>> exclamationList = [
    {
      'color': AppColors.red1,
      'title': 'Peringatan Banjir RW 03',
      'subTitle':
          'Tetap waspada, jaga keselamatan keluarga, dan ikuti informasi resmi dari perangkat desa',
      'titleColor': Colors.white,
      'subTitleColor': AppColors.red2,
      'textButtonColors': [Colors.white, AppColors.red3, AppColors.red1],
      'textButton': 'Detail/Tindakan',
      'iconHeader': Icons.warning_rounded,
      'colorIconHeader': AppColors.red1,
      'sizeIconHeader': 25.0,
      'iconFooter': Icons.access_time_filled_rounded,
      'colorIconFooter': Colors.white,
      'footerText': 'Hingga status banjir dinyatakan aman oleh petugas',
      'footerTextColor': Colors.white,
      'sizeIconFooter': 20.0,
      'textButtonSize': 10.0,
    },
    {
      'color': AppColors.secondary,
      'title': 'Jadwal Imunisasi Bulanan',
      'subTitle':
          'Posyandu Melati akan melaksanakan kegiatan Imunisasi dan Pemeriksaan Balita pada Selasa, 29 Oktober 2025 08.00 â€“ 11.30 WIB',
      'titleColor': Colors.white,
      'subTitleColor': AppColors.orange10,
      'textButtonColors': [
        Colors.white,
        AppColors.orange9,
        AppColors.secondary,
      ],
      'textButton': 'Detail/Tindakan',
      'iconHeader': Icons.hourglass_bottom_rounded,
      'colorIconHeader': AppColors.secondary,
      'sizeIconHeader': 25.0,
      'iconFooter': Icons.access_time_filled_rounded,
      'colorIconFooter': Colors.white,
      'footerText':
          '3â€“5 hari sebelum jadwal dan hingga hari H kegiatan selesai',
      'footerTextColor': Colors.white,
      'sizeIconFooter': 20.0,
      'textButtonSize': 10.0,
    },
  ];

  // ðŸ”¹ Data untuk Grid Status Saya
  final List<Map<String, dynamic>> myStatusList = [
    {
      'color': [AppColors.white4, AppColors.background],
      'boxShadow': true,
      'title': 'Surat Anda',
      'titleColor': AppColors.primary,
      'subTitle': '2 sedang diproses / 5 selesai',
      'subTitleColor': AppColors.cyan3,
      'textButtonColors': [AppColors.primary, AppColors.cyan1, Colors.white],
      'textButton': 'Detail',
      'textButtonSize': 12.0,
      'icon': SvgPicture.asset('assets/svg/icon_status.svg', height: 75),
    },
    {
      'color': [AppColors.white4, AppColors.background],
      'boxShadow': true,
      'title': 'Laporan Warga',
      'titleColor': AppColors.primary,
      'subTitle': '1 baru dikirim / 3 disetujui',
      'subTitleColor': AppColors.cyan3,
      'textButtonColors': [AppColors.primary, AppColors.cyan1, Colors.white],
      'textButton': 'Detail',
      'textButtonSize': 12.0,
      'icon': SvgPicture.asset('assets/svg/icon_status.svg', height: 75),
    },
    {
      'color': [AppColors.white4, AppColors.background],
      'boxShadow': true,
      'title': 'Kesehatan Keluarga',
      'titleColor': AppColors.primary,
      'subTitle': '1 anak belum imunisasi bulan ini',
      'subTitleColor': AppColors.cyan3,
      'textButtonColors': [AppColors.primary, AppColors.cyan1, Colors.white],
      'textButton': 'Detail',
      'textButtonSize': 12.0,
      'icon': SvgPicture.asset('assets/svg/icon_status.svg', height: 75),
    },
    {
      'color': [AppColors.white4, AppColors.background],
      'boxShadow': true,
      'title': 'UMKM Lokal',
      'titleColor': AppColors.primary,
      'subTitle': '3 produk anda dilihat hari ini',
      'subTitleColor': AppColors.cyan3,
      'textButtonColors': [AppColors.primary, AppColors.cyan1, Colors.white],
      'textButton': 'Detail',
      'textButtonSize': 12.0,
      'icon': SvgPicture.asset('assets/svg/icon_status.svg', height: 75),
    },
  ];

  // ðŸ”¹ Data untuk Grid Sektor Terkini
  final List<Map<String, dynamic>> newsSectorList = [
    {
      'image': 'assets/images/pemerintahan.jpeg',

      'color': Colors.white,
      'title': 'Program Sembako',
      'subTitle':
          'Program bantuan sembako tahap 2 akan dibuka minggu depan, warga mendatangi balai desa.',
      'badgeText': 'Pemerintahan',
      'titleColor': AppColors.primary,
      'subTitleColor': AppColors.textSecondary,
      'textButtonColors': [AppColors.primary, AppColors.cyan1, Colors.white],
      'textButton': 'Detail',
      'textButtonSize': 12.0,
      'location': 'Jl. Kertaharja, balai desa',
      'colorLocation': AppColors.primary,
      'dateCreated': '25 Okt 2025',
      'likes': '50k',
    },
    {
      'image': 'assets/images/pemerintahan.jpeg',

      'color': Colors.white,
      'title': 'Program Sembako',
      'subTitle':
          'Program bantuan sembako tahap 2 akan dibuka minggu depan, warga mendatangi balai desa.',
      'badgeText': 'Pemerintahan',
      'titleColor': AppColors.primary,
      'subTitleColor': AppColors.textSecondary,
      'textButtonColors': [AppColors.primary, AppColors.cyan1, Colors.white],
      'textButton': 'Detail',
      'textButtonSize': 12.0,
      'location': 'Jl. Kertaharja, balai desa',
      'colorLocation': AppColors.primary,
      'dateCreated': '25 Okt 2025',
      'likes': '50k',
    },
    {
      'image': 'assets/images/pemerintahan.jpeg',

      'color': Colors.white,
      'title': 'Program Sembako',
      'subTitle':
          'Program bantuan sembako tahap 2 akan dibuka minggu depan, warga mendatangi balai desa.',
      'badgeText': 'Pemerintahan',
      'titleColor': AppColors.primary,
      'subTitleColor': AppColors.textSecondary,
      'textButtonColors': [AppColors.primary, AppColors.cyan1, Colors.white],
      'textButton': 'Detail',
      'textButtonSize': 12.0,
      'location': 'Jl. Kertaharja, balai desa',
      'colorLocation': AppColors.primary,
      'dateCreated': '25 Okt 2025',
      'likes': '50k',
    },
    {
      'image': 'assets/images/pemerintahan.jpeg',

      'color': Colors.white,
      'title': 'Program Sembako',
      'subTitle':
          'Program bantuan sembako tahap 2 akan dibuka minggu depan, warga mendatangi balai desa.',
      'badgeText': 'Pemerintahan',
      'titleColor': AppColors.primary,
      'subTitleColor': AppColors.textSecondary,
      'textButtonColors': [AppColors.primary, AppColors.cyan1, Colors.white],
      'textButton': 'Detail',
      'textButtonSize': 12.0,
      'location': 'Jl. Kertaharja, balai desa',
      'colorLocation': AppColors.primary,
      'dateCreated': '25 Okt 2025',
      'likes': '50k',
    },
    {
      'image': 'assets/images/pemerintahan.jpeg',

      'color': Colors.white,
      'title': 'Program Sembako',
      'subTitle':
          'Program bantuan sembako tahap 2 akan dibuka minggu depan, warga mendatangi balai desa.',
      'badgeText': 'Pemerintahan',
      'titleColor': AppColors.primary,
      'subTitleColor': AppColors.textSecondary,
      'textButtonColors': [AppColors.primary, AppColors.cyan1, Colors.white],
      'textButton': 'Detail',
      'textButtonSize': 12.0,
      'location': 'Jl. Kertaharja, balai desa',
      'colorLocation': AppColors.primary,
      'dateCreated': '25 Okt 2025',
      'likes': '50k',
    },
  ];

  @override
  void dispose() {
    // âœ… PENTING: Dispose semua ValueNotifier
    _currentCarouselIndex.dispose();
    _searchController.dispose();
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Stack(
        children: [
          Positioned(
            top: 50,
            left: 0,
            right: 0,
            child: SvgPicture.asset(
              'assets/svg/wave2.svg',
              fit: BoxFit.cover,
              width: double.infinity,
              height: 235.09,
            ),
          ),

          Column(
            children: [
              SafeArea(
                bottom: false,
                child: Padding(
                  padding: const EdgeInsets.symmetric(horizontal: AppSizes.s),
                  child: Column(
                    children: [
                      // ðŸ”¹ First Row (Logo, Name, Notification, Profile)
                      Header(),

                      const SizedBox(height: AppSizes.s),

                      Row(
                        mainAxisAlignment: MainAxisAlignment.spaceBetween,
                        crossAxisAlignment: CrossAxisAlignment.center,
                        children: [
                          // ðŸ”¹ Search TextField
                          Expanded(
                            child: CustomTextField(
                              hintText: 'Cari layanan, berita, dll ....',
                              controller: _searchController,
                              prefixIcon: Icons.search,
                              fontSize: AppSizes.fontSizeM,
                              sizeIcon: AppSizes.l,
                              borderRadius: AppSizes.radiusS,
                              focusedBorder: AppColors.primary,
                              enabledBorder: AppColors.cyan1,
                            ),
                          ),

                          const SizedBox(width: AppSizes.s),
                          ButtonWidthIcon(
                            onPressed: (BuildContext context) {},
                            colors: [
                              AppColors.secondary,
                              AppColors.orange1,
                              AppColors.primary,
                              AppColors.white4,
                            ],
                            borderRadius: BorderRadius.circular(
                              AppSizes.radiusS,
                            ),
                            gradient: true,
                            icon: Icons.calendar_month_outlined,
                            sizeIcon: 32,
                            colorIcon: [Colors.white],
                            paddingHorizontal: AppSizes.xs,
                            paddingVertical: AppSizes.xs,
                            beginGradientAlignment: Alignment.topCenter,
                            endGradientAlignment: Alignment.bottomCenter,
                          ),
                        ],
                      ),

                      const SizedBox(height: AppSizes.s),

                      // ðŸ”¹ App Description
                      Text(
                        'Aplikasi untuk layanan, info & komunitas Desa Utama',
                        style: GoogleFonts.poppins(
                          fontSize: AppSizes.fontSizeXS,
                          fontWeight: FontWeight.w600,
                          color: AppColors.textPrimary,
                        ),
                        textAlign: TextAlign.center,
                      ),
                    ],
                  ),
                ),
              ),

              const SizedBox(height: AppSizes.s),

              // main content
              Expanded(
                child: Container(
                  // padding: const EdgeInsets.symmetric(horizontal: 12),
                  decoration: BoxDecoration(
                    color: AppColors.background2,
                    borderRadius: BorderRadius.only(
                      topLeft: Radius.circular(AppSizes.radiusM),
                      topRight: Radius.circular(AppSizes.radiusM),
                    ),
                    boxShadow: [
                      BoxShadow(
                        color: Colors.black.withOpacity(0.2),
                        blurRadius: 5,
                        spreadRadius: 0,
                        offset: Offset(0, -3),
                      ),
                    ],
                  ),
                  child: SingleChildScrollView(
                    child: Padding(
                      padding: EdgeInsets.symmetric(horizontal: 12),
                      child: Column(
                        crossAxisAlignment: CrossAxisAlignment.start,
                        children: [
                          const SizedBox(height: AppSizes.s),
                          // ðŸ”¹ Sectors Section
                          Text(
                            'Pilih sektor untuk fitur lengkap',
                            style: GoogleFonts.poppins(
                              fontSize: AppSizes.fontSizeS,
                              fontWeight: FontWeight.bold,
                              color: AppColors.textPrimary,
                            ),
                          ),
                          const SizedBox(height: AppSizes.m),

                          // ðŸ”¹ Grid Sektor (8 item) - GUNAKAN WRAP
                          Wrap(
                            alignment: WrapAlignment.spaceBetween,
                            spacing: 0,
                            runSpacing: AppSizes.s,
                            children: List.generate(sectorList.length, (index) {
                              final sector = sectorList[index];
                              final screenWidth = MediaQuery.of(
                                context,
                              ).size.width;
                              final padding =
                                  AppSizes.xs *
                                  2; // Padding kiri-kanan container
                              final gap =
                                  AppSizes.s *
                                  2; // Total gap antar 4 item (3x spacing)
                              final itemWidth =
                                  (screenWidth - padding - gap) / 4;

                              return SizedBox(
                                width: itemWidth,
                                child: Column(
                                  mainAxisAlignment: MainAxisAlignment.center,
                                  children: [
                                    ButtonWidthSVG(
                                      onPressed: sector['onPressed'],
                                      colors: [
                                        AppColors.white2,
                                        AppColors.cyan2,
                                      ],
                                      borderRadius: BorderRadius.circular(
                                        AppSizes.radiusFull,
                                      ),
                                      gradient: false,
                                      icon: sector['icon'] ?? '',
                                      widthIcon: 0,
                                      heightIcon: 23,
                                      paddingHorizontal:
                                          (index == 0 ||
                                              index == sectorList.length - 1)
                                          ? 14.0
                                          : AppSizes.m,
                                      paddingVertical: AppSizes.m,
                                      boxShadow: false,
                                      colorSvg: [
                                        AppColors.primary,
                                        AppColors.cyan1,
                                      ],
                                    ),

                                    const SizedBox(height: AppSizes.s),

                                    Text(
                                      sector['name'] ?? 'Sektor',
                                      style: GoogleFonts.poppins(
                                        fontSize: 10,
                                        fontWeight: FontWeight.bold,
                                        color: AppColors.primary,
                                      ),
                                    ),
                                  ],
                                ),
                              );
                            }),
                          ),

                          const SizedBox(height: AppSizes.m),

                          // ðŸ”¹ Quick Actions Section
                          Text(
                            'Aksi cepat',
                            style: GoogleFonts.poppins(
                              fontSize: AppSizes.fontSizeS,
                              fontWeight: FontWeight.bold,
                              color: AppColors.textPrimary,
                            ),
                          ),
                          const SizedBox(height: AppSizes.m),

                          // ðŸ”¹ Grid Quick Actions (4 item) - GUNAKAN WRAP
                          Wrap(
                            alignment: WrapAlignment.spaceBetween,
                            spacing: 0,
                            runSpacing: AppSizes.s,
                            children: List.generate(quickActionList.length, (
                              index,
                            ) {
                              final quickAction = quickActionList[index];
                              final screenWidth = MediaQuery.of(
                                context,
                              ).size.width;
                              final padding =
                                  AppSizes.xs *
                                  2; // Padding kiri-kanan container
                              final gap =
                                  AppSizes.s *
                                  2; // Total gap antar 4 item (3x spacing)
                              final itemWidth =
                                  (screenWidth - padding - gap) / 4;

                              return SizedBox(
                                width: itemWidth,
                                child: Column(
                                  mainAxisAlignment: MainAxisAlignment.center,
                                  children: [
                                    ButtonWidthSVG(
                                      onPressed: quickAction['onPressed'],
                                      colors: [
                                        AppColors.orange8,
                                        AppColors.orange9,
                                      ],
                                      borderRadius: BorderRadius.circular(
                                        AppSizes.radiusFull,
                                      ),
                                      gradient: false,
                                      icon: quickAction['icon'] ?? '',
                                      widthIcon: 0,
                                      heightIcon: 23,
                                      paddingHorizontal: AppSizes.m,
                                      paddingVertical: AppSizes.m,
                                      boxShadow: false,
                                      colorSvg: [AppColors.secondary],
                                    ),

                                    const SizedBox(height: AppSizes.s),

                                    Text(
                                      quickAction['name'] ?? 'Aksi',
                                      style: GoogleFonts.poppins(
                                        fontSize: 10,
                                        fontWeight: FontWeight.bold,
                                        color: AppColors.secondary,
                                      ),
                                    ),
                                  ],
                                ),
                              );
                            }),
                          ),

                          const SizedBox(height: AppSizes.m),

                          // ðŸ”¹ Peringatan
                          Text(
                            'Peringatan',
                            style: GoogleFonts.poppins(
                              fontSize: AppSizes.fontSizeS,
                              fontWeight: FontWeight.bold,
                              color: AppColors.textPrimary,
                            ),
                          ),
                          const SizedBox(height: AppSizes.m),

                          CarouselSlider.builder(
                            itemCount: exclamationList.length,
                            options: CarouselOptions(
                              aspectRatio: 2.8,
                              clipBehavior: Clip.none,
                              viewportFraction: 1,
                              enlargeCenterPage: false,
                              enableInfiniteScroll: true,
                              autoPlay: exclamationList.length > 1,
                              autoPlayInterval: const Duration(seconds: 5),
                              autoPlayAnimationDuration: const Duration(
                                milliseconds: 800,
                              ),
                              pauseAutoPlayOnTouch: true,
                              padEnds: false,
                              onPageChanged: (index, reason) {
                                setState(() {
                                  _currentCarouselIndex.value = index;
                                });
                              },
                            ),
                            itemBuilder: (context, index, realIndex) {
                              return ContainerInfoButton(
                                color: exclamationList[index]['color'],
                                title: exclamationList[index]['title'],
                                subTitle: exclamationList[index]['subTitle'],
                                titleColor:
                                    exclamationList[index]['titleColor'],
                                subTitleColor:
                                    exclamationList[index]['subTitleColor'],
                                textButtonColors: List<Color>.from(
                                  exclamationList[index]['textButtonColors'],
                                ),
                                textButton:
                                    exclamationList[index]['textButton'],
                                iconHeader:
                                    exclamationList[index]['iconHeader'],
                                colorIconHeader:
                                    exclamationList[index]['colorIconHeader'],
                                sizeIconHeader:
                                    exclamationList[index]['sizeIconHeader'],
                                iconFooter:
                                    exclamationList[index]['iconFooter'],
                                footerText:
                                    exclamationList[index]['footerText'],
                                colorIconFooter:
                                    exclamationList[index]['colorIconFooter'],
                                footerTextColor:
                                    exclamationList[index]['footerTextColor'],
                                sizeIconFooter:
                                    exclamationList[index]['sizeIconFooter'],
                                textButtonSize:
                                    exclamationList[index]['textButtonSize'],
                              );
                            },
                          ),

                          const SizedBox(height: AppSizes.s),

                          // Dots Indicator
                          ValueListenableBuilder<int>(
                            valueListenable: _currentCarouselIndex,
                            builder: (context, currentIndex, child) {
                              return Row(
                                mainAxisAlignment: MainAxisAlignment.center,
                                children: List.generate(
                                  exclamationList.length,
                                  (index) => Container(
                                    width: currentIndex == index ? 20 : 10,
                                    height: 4,
                                    margin: const EdgeInsets.symmetric(
                                      horizontal: 2,
                                    ),
                                    decoration: BoxDecoration(
                                      // shape: BoxShape.circle,
                                      borderRadius: BorderRadius.circular(
                                        AppSizes.radiusFull,
                                      ),
                                      color: currentIndex == index
                                          ? AppColors.cyan1
                                          : AppColors.white2,
                                    ),
                                  ),
                                ),
                              );
                            },
                          ),

                          const SizedBox(height: AppSizes.m),

                          // ðŸ”¹ Status Saya
                          Text(
                            'Status Saya',
                            style: GoogleFonts.poppins(
                              fontSize: AppSizes.fontSizeS,
                              fontWeight: FontWeight.bold,
                              color: AppColors.textPrimary,
                            ),
                          ),

                          const SizedBox(height: AppSizes.m),

                          SingleChildScrollView(
                            scrollDirection: Axis.horizontal,
                            clipBehavior: Clip.none,
                            child: Row(
                              children: [
                                for (
                                  int index = 0;
                                  index < myStatusList.length;
                                  index++
                                ) ...[
                                  SizedBox(
                                    width:
                                        (MediaQuery.of(context).size.width -
                                            40) /
                                        2,
                                    child: CardTextButton(
                                      color: List<Color>.from(
                                        myStatusList[index]['color'],
                                      ),
                                      boxShadow:
                                          myStatusList[index]['boxShadow'],
                                      title: myStatusList[index]['title'],
                                      titleColor:
                                          myStatusList[index]['titleColor'],
                                      subTitleColor:
                                          myStatusList[index]['subTitleColor'],
                                      subTitle: myStatusList[index]['subTitle'],
                                      textButtonColors: List<Color>.from(
                                        myStatusList[index]['textButtonColors'],
                                      ),
                                      textButton:
                                          myStatusList[index]['textButton'],
                                      textButtonSize:
                                          myStatusList[index]['textButtonSize'],
                                      icon: myStatusList[index]['icon'],
                                      maxHeight: 170.0,
                                    ),
                                  ),
                                  if (index < myStatusList.length - 1)
                                    const SizedBox(width: AppSizes.m),
                                ],
                              ],
                            ),
                          ),

                          const SizedBox(height: AppSizes.m),

                          // ðŸ”¹ Sektor Terkini
                          Text(
                            'Sektor Terkini',
                            style: GoogleFonts.poppins(
                              fontSize: AppSizes.fontSizeS,
                              fontWeight: FontWeight.bold,
                              color: AppColors.textPrimary,
                            ),
                          ),

                          const SizedBox(height: AppSizes.m),

                          for (
                            int index = 0;
                            index < newsSectorList.length;
                            index++
                          ) ...[
                            SizedBox(
                              width: MediaQuery.of(context).size.width - 24,
                              child: ContainerNewsButton(
                                image: Image.asset(
                                  newsSectorList[index]['image'],
                                  fit: BoxFit.cover,
                                ),
                                color: newsSectorList[index]['color'],
                                title: newsSectorList[index]['title'],
                                subTitle: newsSectorList[index]['subTitle'],
                                badgeText: newsSectorList[index]['badgeText'],
                                titleColor: newsSectorList[index]['titleColor'],
                                subTitleColor:
                                    newsSectorList[index]['subTitleColor'],
                                textButtonColors: List<Color>.from(
                                  newsSectorList[index]['textButtonColors'],
                                ),
                                textButton: newsSectorList[index]['textButton'],
                                textButtonSize:
                                    newsSectorList[index]['textButtonSize'],
                                location: newsSectorList[index]['location'],
                                colorLocation:
                                    newsSectorList[index]['colorLocation'],
                                dateCreated:
                                    newsSectorList[index]['dateCreated'],
                                likes: newsSectorList[index]['likes'],
                              ),
                            ),

                            if (index < newsSectorList.length - 1)
                              const SizedBox(height: AppSizes.m),
                          ],

                          // ðŸ”¹ BOTTOM PADDING UNTUK SCROLL
                          const SizedBox(height: 120),
                        ],
                      ),
                    ),
                  ),
                ),
              ),
            ],
          ),
        ],
      ),
    );
  }
}

// Helper function untuk navigasi dengan custom transition
class NavigationHelper {
  static void navigateWithSlideTransition(BuildContext context, Widget screen) {
    Navigator.push(
      context,
      PageRouteBuilder(
        pageBuilder: (_, __, ___) => screen,
        transitionsBuilder: (_, animation, __, child) {
          final slideAnimation =
              Tween<Offset>(
                begin: const Offset(0, 1),
                end: Offset.zero,
              ).animate(
                CurvedAnimation(parent: animation, curve: Curves.easeInOut),
              );
          return SlideTransition(position: slideAnimation, child: child);
        },
        transitionDuration: const Duration(milliseconds: 900),
        reverseTransitionDuration: const Duration(milliseconds: 700),
      ),
    );
  }
}
