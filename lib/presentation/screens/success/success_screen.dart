import 'package:flutter/material.dart';
import 'package:flutter_svg/svg.dart';
import 'package:sandu_app/core/constants/app_colors.dart';
import 'package:sandu_app/core/constants/app_sizes.dart';
import 'package:sandu_app/presentation/widgets/button_width_text.dart';

class SuccessScreen extends StatelessWidget {
  final String title;
  final double titleSize;
  final String subTitle;
  final double subTitleSize;
  final VoidCallback onPressed;
  final String buttonText;
  final double buttonTextSize;
  final List<Color> buttonColors;
  final double paddingHorizontalButton;
  final double paddingVerticalButton;

  const SuccessScreen({
    super.key,
    required this.title,
    required this.titleSize,
    required this.subTitle,
    required this.subTitleSize,
    required this.onPressed,
    required this.buttonText,
    required this.buttonTextSize,
    required this.buttonColors,
    required this.paddingHorizontalButton,
    required this.paddingVerticalButton,
  });

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: LayoutBuilder(
        builder: (context, constraints) {
          return SingleChildScrollView(
            child: ConstrainedBox(
              constraints: BoxConstraints(
                minHeight: constraints
                    .maxHeight, // Paksa tinggi minimal seukuran layar
              ),
              child: IntrinsicHeight(
                child: Center(
                  child: Column(
                    mainAxisAlignment: MainAxisAlignment.center,
                    crossAxisAlignment: CrossAxisAlignment.center,
                    children: [
                      SvgPicture.string(
                        ''' <svg width="340" height="259" viewBox="0 0 340 259" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M24.089 245.328C24.089 245.328 -7.35297 223.235 7.10303 195.468C21.562 167.701 50.477 125.069 36.007 103.331C21.562 81.6004 20.089 11.9764 103.222 1.30336C169.528 -7.20364 189.681 27.8154 199.958 51.7154C213.513 83.2424 201.399 140.797 264.795 148.39C328.207 155.98 364.427 187.334 319.007 238.436C299.157 260.768 24.089 245.328 24.089 245.328Z" fill="#9BDDD4"/>
              <path d="M137.618 227.952C90.827 238.178 52.718 223.979 65.723 199.819C78.72 175.659 70.755 172.613 60.729 165.013C50.703 157.416 28.177 136.254 50.121 113.011C72.092 89.7814 55.403 83.0414 48.544 69.3704C28.508 29.4894 109.767 13.1154 87.779 49.8194C71.273 77.3664 72.143 98.4613 92.655 112.477C113.184 126.496 117.279 133.889 116.372 151.214C115.462 168.539 108.376 205.362 129.294 203.829C150.196 202.296 161.616 222.704 137.618 227.952Z" fill="#EBF2FF"/>
              <path d="M52.624 63.9333C50.451 59.8053 49.941 39.5633 69.58 40.6123C81.532 41.2523 75.326 57.5753 72.615 70.1353C69.912 82.6963 71.759 102.416 76.754 110.538C85.981 125.518 84.009 131.822 72.585 144.674C72.585 144.674 66.653 154.219 77.596 164.462C88.536 174.704 84.309 202.912 97.019 207.483C109.729 212.051 116.909 221.797 108.199 222.703C99.509 223.617 63.462 227.119 72.95 203.385C86.78 168.833 59.818 158.59 53.101 150.923C46.942 143.895 41.674 128.191 59.537 108.497C73.357 93.2533 59.287 76.6493 52.624 63.9333Z" fill="#9BDDD4"/>
              <path d="M101.242 243.73L100.525 246.897C99.8449 246.725 83.5489 242.627 65.9869 231.359C42.6089 216.349 28.3999 195.745 24.9219 171.73L27.9499 171.209C36.0339 226.977 100.59 243.565 101.242 243.73Z" fill="#50AA9E"/>
              <path d="M27.124 174.935C27.124 174.935 10.144 165.927 17.179 145.178C17.179 145.178 32.247 157.42 27.124 174.935Z" fill="#50AA9E"/>
              <path d="M32.562 191.898C32.562 191.898 9.413 199.633 0 173.5C0 173.5 12.347 168.966 32.562 191.898Z" fill="#50AA9E"/>
              <path d="M31.7729 192.002C31.7729 192.002 53.2669 180.014 42.5539 154.469C42.5539 154.469 30.8189 160.55 31.7729 192.002Z" fill="#50AA9E"/>
              <path d="M44.6079 211.347C44.6079 211.347 22.2919 221.553 10.3879 196.607C10.3879 196.607 22.2309 190.751 44.6079 211.347Z" fill="#50AA9E"/>
              <path d="M43.8231 211.527C43.8231 211.527 64.0541 197.281 50.8951 173.043C50.8951 173.043 39.8001 180.376 43.8231 211.527Z" fill="#50AA9E"/>
              <path d="M63.821 228.246C63.821 228.246 43.451 242.312 27.675 219.929C27.675 219.929 38.402 212.011 63.821 228.246Z" fill="#50AA9E"/>
              <path d="M63.0671 228.564C63.0671 228.564 80.7101 210.877 63.8181 189.41C63.8181 189.41 54.0621 198.635 63.0671 228.564Z" fill="#50AA9E"/>
              <path d="M83.5689 238.848C83.5689 238.848 67.3609 258.014 46.5569 240.787C46.5569 240.787 54.9929 230.212 83.5689 238.848Z" fill="#50AA9E"/>
              <path d="M82.9389 239.362C82.9389 239.362 95.6619 217.472 74.0159 201.447C74.0159 201.447 66.8559 213.009 82.9389 239.362Z" fill="#50AA9E"/>
              <path d="M221.865 243.802C266.673 256.031 304.274 244.167 292.884 220.122C281.491 196.084 289.355 193.532 299.445 186.666C309.539 179.804 332.389 160.432 312.29 136.84C292.177 113.245 308.666 107.55 315.985 94.6514C337.353 57.0204 259.482 37.1334 278.956 73.7734C293.578 101.27 291.693 121.647 271.119 134.204C250.556 146.768 246.231 153.725 246.245 170.546C246.262 187.37 251.304 223.377 231.123 220.86C210.952 218.335 198.885 237.528 221.865 243.802Z" fill="#50AA9E"/>
              <path opacity="0.2" d="M312.296 89.1834C314.611 85.2884 316.106 65.7164 297.035 65.7544C285.435 65.7814 290.64 81.8984 292.636 94.1984C294.629 106.494 291.868 125.498 286.626 133.118C276.948 147.164 278.549 153.366 288.974 166.377C288.974 166.377 294.236 175.923 283.127 185.296C272.032 194.672 274.729 222.2 262.198 225.996C249.658 229.786 242.22 238.871 250.605 240.181C258.987 241.494 293.728 246.678 285.698 223.222C274.024 189.076 300.637 180.492 307.527 173.399C313.841 166.899 319.715 151.952 303.399 131.995C290.772 116.548 305.228 101.165 312.296 89.1834Z" fill="#F6F5F7"/>
              <path d="M215.341 243.013L214.661 238.861C280.604 228.084 309.129 176.444 309.417 175.909L313.123 177.912C312.831 178.437 283.392 231.897 215.341 243.013Z" fill="#EBF2FF"/>
              <path d="M309.142 179.442C309.142 179.442 317.754 157.173 328.985 164.283C333.759 167.298 331.181 178.105 309.142 179.442Z" fill="#EBF2FF"/>
              <path d="M304.145 186.724C304.145 186.724 326.095 174.038 328.386 186.859C329.351 192.331 319.73 199.494 304.145 186.724Z" fill="#EBF2FF"/>
              <path d="M304.189 189.089C304.189 189.089 317.626 168.59 303.793 166.614C297.898 165.758 290.261 174.752 304.189 189.089Z" fill="#EBF2FF"/>
              <path d="M289.567 203.947C289.567 203.947 304.033 183.949 290.366 181.343C284.546 180.227 276.499 188.893 289.567 203.947Z" fill="#EBF2FF"/>
              <path d="M276.753 215.269C276.753 215.269 291.114 195.25 277.443 192.672C271.616 191.559 263.597 200.262 276.753 215.269Z" fill="#EBF2FF"/>
              <path d="M258.839 226.412C258.839 226.412 276.567 208.728 263.887 203.869C258.477 201.802 249.07 209.185 258.839 226.412Z" fill="#EBF2FF"/>
              <path d="M243.324 233.481C243.324 233.481 260.548 215.368 247.659 210.877C242.194 208.982 232.973 216.586 243.324 233.481Z" fill="#EBF2FF"/>
              <path d="M222.081 239.575C222.081 239.575 243.544 226.054 232.912 218.284C228.375 214.968 217.516 220.135 222.081 239.575Z" fill="#EBF2FF"/>
              <path d="M293.415 200.137C293.415 200.137 315.403 187.444 317.67 200.286C318.637 205.744 309.038 212.891 293.415 200.137Z" fill="#EBF2FF"/>
              <path d="M280.299 211.967C280.299 211.967 302.284 199.301 304.55 212.129C305.529 217.584 295.908 224.741 280.299 211.967Z" fill="#EBF2FF"/>
              <path d="M265.894 221.594C265.894 221.594 289.868 213.605 288.853 226.896C288.444 232.554 277.538 237.667 265.894 221.594Z" fill="#EBF2FF"/>
              <path d="M248.867 230.615C248.867 230.615 273.352 224.92 270.841 238.191C269.769 243.839 258.501 247.916 248.867 230.615Z" fill="#EBF2FF"/>
              <path d="M230.818 236.943C230.818 236.943 255.53 234.493 251.019 247.527C249.067 253.063 237.464 255.648 230.818 236.943Z" fill="#EBF2FF"/>
              <path d="M317.903 249.114C317.903 254.352 250.423 258.599 167.175 258.599C83.933 258.599 16.448 254.352 16.448 249.114C16.448 243.876 83.934 239.632 167.175 239.632C250.424 239.633 317.903 243.876 317.903 249.114Z" fill="#409999"/>
              <path d="M281.186 142.352C281.186 200.689 233.894 247.977 175.558 247.977C117.218 247.977 69.929 200.689 69.929 142.352C69.929 84.0124 117.218 36.7204 175.558 36.7204C233.894 36.7204 281.186 84.0124 281.186 142.352Z" fill="#194D4D"/>
              <path d="M184.981 181.611C188.047 186.605 184.954 194.091 178.058 198.324C171.172 202.554 163.092 201.934 160.026 196.937L124.76 139.5C121.691 134.502 124.784 127.024 131.683 122.791C138.569 118.558 146.649 119.181 149.715 124.175L184.981 181.611Z" fill="#F6F5F7"/>
              <path d="M183.695 194.148C179.465 201.034 170.448 203.196 163.562 198.966C156.662 194.736 154.51 185.719 158.74 178.822L207.341 99.6144C211.571 92.7214 220.588 90.5624 227.484 94.7924C234.373 99.0224 236.536 108.036 232.306 114.929L183.695 194.148Z" fill="#F6F5F7"/>
              </svg>
              
               ''',
                        height: 200,
                      ),
                      const SizedBox(height: AppSizes.m),
                      Text(
                        title,
                        style: TextStyle(
                          fontSize: titleSize,
                          fontWeight: FontWeight.bold,
                          color: AppColors.primary,
                        ),
                      ),
                      const SizedBox(height: AppSizes.m),
                      Text(
                        subTitle,
                        style: TextStyle(
                          fontSize: subTitleSize,
                          fontWeight: FontWeight.w600,
                          color: AppColors.primary.withOpacity(0.8),
                        ),
                        textAlign: TextAlign.center,
                      ),

                      const SizedBox(height: AppSizes.m),

                      // Button
                      Container(
                        constraints: BoxConstraints(maxWidth: 200),
                        child: ButtonWidthText(
                          text: buttonText,
                          onPressed: onPressed,
                          fontSize: buttonTextSize,
                          textColor: buttonColors[4],
                          colors: buttonColors,
                          borderRadius: BorderRadius.circular(AppSizes.radiusS),
                          gradient: true,
                          paddingHorizontal: paddingHorizontalButton,
                          paddingVertical: paddingVerticalButton,
                        ),
                      ),
                    ],
                  ),
                ),
              ),
            ),
          );
        },
      ),
    );
  }
}
